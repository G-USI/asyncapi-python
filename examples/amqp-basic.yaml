asyncapi: 3.0.0
info:
  title: Basic AMQP Application
  version: 1.0.0
  description: A simple AsyncAPI 3.0.0 specification for AMQP

channels:
  test-notifier:
    description: |
      Creates producer that posts to the test-notifier exchange.
      Creates consumer that makes an anonymous temporary queue, and binds it to the exchange.
    bindings:
      amqp:
        exchange:
          type: fanout
    messages:
      test-notification:
        payload:
          title: TestNotification
          type: object
          properties:
            notification:
              type: string
            date:
              type: string
              format: date-time
          required:
            - notification
            - date

  test-work-queue:
    description: |
      Produces post to a queue.
      Consumers read from the queue.
    messages:
      test-message:
        payload:
          title: TestMessage
          type: object
          properties:
            message:
              type: string
            date:
              type: string
              format: date-time
          required:
            - message
            - date
